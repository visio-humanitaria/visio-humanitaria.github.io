(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=233},242:function(t,e,n){t.exports=n(584)},584:function(t,e,n){"use strict";n.r(e);var o=n(28),a=n.n(o),i=n(241),r=n(237),s=(n(244),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var l=n(238),u=n.n(l),d=n(239),f=n.n(d),h=n(240),p=n.n(h);function y(t){var e={typing:!1,interval:null};this.write=function(t){e.typing&&clearInterval(e.interval),e.typing=!0;var n=t.body.split(""),o="",a=0;e.interval=setInterval((function(){o+=n[a],t.element.update({body:o}),(a+=1)===n.length&&(clearInterval(e.interval),e.typing=!1)}),50)}}window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault()})),null===localStorage.getItem("bontaki_chat_data")&&localStorage.setItem("bontaki_chat_data",JSON.stringify([]));var g=f()({target:"root"});function m(t){var e=g.text({body:"\n# Bontaki\n\t"});e.style({backgroundColor:"rgba(0, 0, 0, 0)",cursor:"pointer",userSelect:"none"}),setTimeout((function(){document.getElementById("element-".concat(e.props._id)).onclick=function(){I.home()}}),10)}function b(t){var e=g.text({body:""});e.style({paddingBottom:"0%"}),e.option({label:"..."},(function(){})),e.option({label:"\ud83d\udca7 Converse"},(function(){I.home()})),e.option({label:"\ud83d\udcd5 Verse History"},(function(){I.historical()})),e.option({label:"\u2753 About Bontaki"},(function(){I.about()})),e.option({label:"\ud83d\udcf1 Install Mobile"},(function(){I.mobile()})),e.option({label:"\ud83d\udd12 Privacy Policy"},(function(){I.privacy()})),e.option({label:"\ud83d\udd25 Reset Data"},(function(){I.reset()}))}function v(t){this.display=function(){g.clear(),m(),b(),g.text({body:'\n### \ud83c\udf4a Android\n\t\t\nJust tap \u22ee then "Install app...".\n\t\t'}),g.text({body:'\n### \ud83c\udf4f Ios\n\nJust tap \ud83d\udce4 then "Add to Home Screen".\n\t\t'})}}function w(t){this.display=function(){g.clear(),m(),b(),g.text({body:'\n### Privacy is Paramount.\n\nBontaki pledges to keep your data private. It remains with your device and can be \nerased at anytime through the "Reset Data" option.\n\t\t'})}}function k(t){this.display=function(){g.clear(),m(),b(),g.text({body:"\n### Are you sure you wish to reset your data?\n\nTap the ... to clean slate the application.\n\t\t"}).option({label:"DELETE DATA"},(function(){localStorage.setItem("bontaki_chat_data",JSON.stringify([])),I.home()}))}}function _(t){this.display=function(){g.clear(),m(),b(),g.text({body:"\n### Why study scriptures?\n\nAs long as humanity could talk to one another, stories have always been told. \nThe Judeo/Christian bible is an archive of collective human thought with humanitarian aim.\n\n### What's the purpose of Bontaki?\n\nBontaki is an ongoing experiment to connect human emotional states to collective humanitarian \ncognition echoed in biblical context. Bontaki is a therapeutic tool to assist in the \nancient practice of meditation.\n\t\t"})}}function S(t){this.display=function(){g.clear(),function(){var t;m(),b(),g.text({body:"\n### Your archived scriptures.\n\nThese verses have been uniquely selected from your interactions.\n\t\t"}),g.text({body:""}).update({body:(t=JSON.parse(localStorage.getItem("bontaki_chat_data")),t.map((function(t){return"\n".concat(t.answer,"\n")})).join(""))})}(),null===localStorage.getItem("bontaki_chat_data")&&localStorage.setItem("bontaki_chat_data",JSON.stringify([]))}}function x(t){var e={elizabot:new p.a,eliza_message:"How are you feeling right now?",type:new y};function n(t){setTimeout((function(){document.getElementById("form-".concat(t.element.props._id)).message.placeholder=t.message}),10)}this.display=function(){g.clear(),function(){m(),b(),g.text({body:"\n### Speak to biblical texts as a friend.\n\nBontaki uses natural language processing to read your emotional state and reply within scriptural context.\n\t\t"});var t=g.text({body:""}),o=g.form();o.input({name:"message",type:"textarea"}),o.submit(function(){var s=Object(r.a)(a.a.mark((function r(s){var c,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==s.message.length){a.next=3;break}return n({element:o,message:e.eliza_message}),a.abrupt("return");case 3:return a.next=5,u()().findScripture({utterance:s.message});case 5:c=a.sent,(l=JSON.parse(localStorage.getItem("bontaki_chat_data"))).unshift(Object(i.a)({},c,{utterance:s.message})),localStorage.setItem("bontaki_chat_data",JSON.stringify(l)),e.type.write({element:t,body:l[0].answer}),e.eliza_message=e.elizabot.transform(s.message),n({element:o,message:e.eliza_message});case 12:case"end":return a.stop()}}),r)})));return function(t){return s.apply(this,arguments)}}());var s=JSON.parse(localStorage.getItem("bontaki_chat_data"));n({element:o,message:"How are you feeling right now?"}),0!==s.length?e.type.write({element:t,body:s[0].answer}):e.type.write({element:t,body:"\nand to make it your ambition to lead a quiet life: \nYou should mind your own business and work with your \nhands, just as we told you, so that your daily life \nmay win the respect of outsiders and so that you will \nnot be dependent on anybody.\n\t\t\t"})}(),null===localStorage.getItem("bontaki_chat_data")&&localStorage.setItem("bontaki_chat_data",JSON.stringify([]))}}var I={home:function(){(new x).display()},historical:function(){(new S).display()},about:function(){(new _).display()},mobile:function(){(new v).display()},privacy:function(){(new w).display()},reset:function(){(new k).display()}};I.home(),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");s?(!function(t,e){fetch(t).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):c(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(e,t)}))}}()}},[[242,1,2]]]);
//# sourceMappingURL=main.d6dcac7c.chunk.js.map